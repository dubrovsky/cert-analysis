<p-table [value]="certificates" selectionMode="single" [contextMenu]="tableContextMenu" [loading]="loading" contextMenuSelectionMode="joint" [(selection)]="selectedCertificate" (onRowSelect)="onRowSelect($event)">
    <ng-template pTemplate="header">
        <tr>
            <th>Наименование</th>
            <th style="width: 4em"></th>
            <th>Начало</th>
            <th>Окончание</th>
            <th>ФИО</th>
            <th>Должность</th>
            <th [ngClass]="'serialNumber'">Серийный номер</th>
            <th>Комментарий</th>
            <th>Состояние</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-certificate>
        <tr [pContextMenuRow]="certificate" (contextmenu)="onContextMenu($event)" [ngClass]="getTableRowClass(certificate)" [pSelectableRow]="certificate">
            <td>{{certificate.name}}</td>
            <td>
                <button type="button" pButton (click)="onDownloadFileClick(certificate)" icon="pi pi-download" pTooltip="Скачать файл"></button>
            </td>
            <td>{{certificate.begin}}</td>
            <td>{{certificate.end}}</td>
            <td>{{certificate.fio}}</td>
            <td>{{certificate.position}}</td>
            <td>{{certificate.serialNumber}}</td>
            <td>{{certificate.comment}}</td>
            <td>{{certificate.stateDescr}}</td>
        </tr>
    </ng-template>
</p-table>

<p-contextMenu #tableContextMenu [model]="contextMenuItems"></p-contextMenu>