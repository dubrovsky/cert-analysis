<p-table [value]="certificates" selectionMode="single" [loading]="loading" [(selection)]="selectedCertificate"
         [contextMenu]="tableContextMenu" [(contextMenuSelection)]="selectedCertificate">
    <ng-template pTemplate="header">
        <tr>
            <th [ngClass]="'name'">Наименование</th>
            <th [ngClass]="'download'"></th>
            <th [ngClass]="'date'">Начало</th>
            <th [ngClass]="'date'">Окончание</th>
            <th>ФИО</th>
            <th>Должность</th>
            <th [ngClass]="'serialNumber'">Серийный номер</th>
            <th>Комментарий</th>
            <th>Состояние</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-certificate>
        <tr [pContextMenuRow]="certificate" [ngClass]="getTableRowClass(certificate)" [pSelectableRow]="certificate">
            <td>{{certificate.name}}</td>
            <td>
                <button type="button" pButton (click)="onDownloadFileClick(certificate)" icon="pi pi-download"
                        pTooltip="Скачать файл"></button>
            </td>
            <td>{{certificate.begin}}</td>
            <td>{{certificate.end}}</td>
            <td>{{certificate.fio}}</td>
            <td>{{certificate.position}}</td>
            <td>{{certificate.serialNumber}}</td>
            <td>{{certificate.comment}}</td>
            <td>{{certificate.stateDescr}}</td>
        </tr>
    </ng-template>
</p-table>

<p-contextMenu #tableContextMenu [model]="contextMenuItems"></p-contextMenu>
