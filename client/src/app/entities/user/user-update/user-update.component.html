<p-dialog header="Редактор пользователя" [(visible)]="displayUserForm" [modal]="true" [responsive]="true" [contentStyle]="{'max-height':'600px', 'width': '600px'}"
          [positionTop]="0" [transitionOptions]="'0ms'" [closable]="false">

    <form class="p-grid" [formGroup]="userForm">
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="name">Логин<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="name" pInputText formControlName="login" style="width: 100%"/>
            </div>
        </div>
        <div *ngIf="!userForm.get('id').value" class="p-col-12">
            <div class="p-col-4">
                <label for="password">Пароль<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <input type="password" id="password" pInputText formControlName="password" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="lastname">Фамилия<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="lastname" pInputText formControlName="lastname" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="firstname">Имя<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="firstname" pInputText formControlName="firstname" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="surname">Отчество:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="surname" pInputText formControlName="surname" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="email">Почта<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="email" pInputText formControlName="email" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="phone">Телефон:</label>
            </div>
            <div class="p-col-12">
                <input type="text" id="phone" pInputText formControlName="phone" style="width: 100%"/>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-4">
                <label for="role">Роль<span style="color: red">*</span>:</label>
            </div>
            <div class="p-col-12">
                <select id="role" formControlName="roleId">
                    <option *ngFor="let role of roles" [value]="role.id">{{role.name}}</option>
                </select>
            </div>
        </div>
        <div class="p-col-12">
            <div class="p-col-12">
                <p-checkbox label="Активный" id="enabled" [formControl]="userForm.controls['enabled']" binary="true"></p-checkbox>
            </div>
        </div>
        <p-fieldset legend="Группы оповещения:" class="p-col-12">
            <div class="p-col-12" *ngFor="let notificationGroup of notificationGroups">
                <p-checkbox [value]="notificationGroup.id" [label]="notificationGroup.name" [formControl]="userForm.controls['notificationGroupIds']"></p-checkbox>
            </div>
        </p-fieldset>
        <!--<div class="p-col-12">
            <div class="p-col-4">
                <label>Группы оповещения:</label>
            </div>
            <div class="p-col-12" *ngFor="let notificationGroup of notificationGroups">
                <p-checkbox [value]="notificationGroup.id" [label]="notificationGroup.name" [formControl]="userForm.controls['notificationGroupIds']"></p-checkbox>
            </div>
        </div>-->
    </form>
    <p-footer>
        <button type="submit" pButton icon="pi pi-save" label="Сохранить" [disabled]="userForm.invalid" (click)="onSubmitClick()"></button>
        <button type="button" pButton icon="pi pi-times-circle" label="Отмена" class="ui-button-warning" (click)="onCancelClick()"></button>
    </p-footer>
</p-dialog>
